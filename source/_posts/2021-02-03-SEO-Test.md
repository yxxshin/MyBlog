---
layout: post
title: SEO 문제 해결 (진행중)
description: 신연상의 블로그 - AFAIK
date: 2021-02-03 15:00:00 +0900'
categories:
  - manual
tags:
  - SEO
toc: true
---

SEO (Search Engine Optimization) 문제 해결을 위한 글입니다.

<!-- more -->

## 2021.02.02.
`hexo-generator-seo-friendly-sitemap` 을 이용하여 `sitemap.xml` 과 `rss2.xml` 을 자동 생성/갱신하고, 이를 Google Search Console에 올려둠.  
[블로그 Sitemap 확인](http://yxxshin.github.io/sitemap.xml)

## 2021.02.03.
구글에 검색을 하면 본 블로그가 뜬다는 것을 확인함
- `site` 옵션 사용 (site:yxxshin.github.io)
- 특정 검색어 입력 (Baekjoon 9184 등)

그러나, 다음의 문제들이 발견됨

## 발생한 SEO 문제들
### **일부 검색 결과의 블로그 제목 뒤에 Baekjoon 9184 (신나는 함수 실행)이 붙어서 나옴**
![블로그 제목 오류 문제](https://imgur.com/TThXsOh.png)
- 해결해야 할 문제 1순위. 그러나 왜 나타나는지, 나타나는 기준이 뭔지 5시간 뒤졌는데 찾지 못함.
- [02/03 23:00] 일단 빡쳐서 Baekjoon 9184 글을 내려버림. 원래 있는 글 제목이였음. 
- [02/03 23:40] Baekjoon Cover와 Thumbnail이 Rendering 될 때 `<img alt = "Baekjoon 9184 (신나는 함수 실행)">` 으로 들어가는 것을 확인함. 여기서 발생한 문제일까? (저 게시물을 쓸 때 처음으로 Thumbnail, Cover 만들어 넣음)
  - 예전 게시물들 중에서도 이 문제가 발생하므로, 만약 이게 맞다면 RECENTS의 Thumbnail에서 발생한 문제
  - 그럼 뜨고 안뜨고의 기준은? Sitemap.xml의 구글봇 업데이트 날짜 기준인가?
  - [02/04 19:00] 찾아보니까 아님 섞여있음. 안 뜨는 게시물들이 평균 02/01 20:10 경에 업로드 되었다(저장된 페이지의 날짜)는 점이 억지로 찾아낸 공통점인데 말도 안 된다. 뭔 차이가 있는걸까. 그나저나 다음 업데이트는 도대체 언제 되는것인가
- [02/03 02:00] Sitemap.xml 파일의 자동 갱신/업로드는 매우 잘 이루어지고 있었음. 다만 이 결과가 구글 검색창에 반영되기까지는 최소 하루 정도의 시간이 필요한 것 같음 (Google Bot이 다녀와야 하기 때문 - `robots.txt` 관련)
- [02/04 17:00] 블로그 기본 주소의 이름이 다음과 같이 뜨는 것을 발견.
  ![기본 블로그 제목 오류](https://imgur.com/6NjF5Pi.png)

### **Baekjoon 문제 풀이의 미리보기에서 1 2 3 4 .. 의 숫자가 보이는 경우가 존재**
![문제 풀이 미리보기 오류](https://imgur.com/GWq45RH.png)
- 내가 봐도 눌러서 들어오고 싶지 않다는 느낌이 든다. 고쳐야 하는 문제.
- [02/03 01:20] 숫자가 필자 코드의 줄 번호 임을 확인함. 어떤 기준으로 뜨고 안뜨는지는 모르겠음.
- [02/04 16:00] 우선 모든 Baekjoon 글의 앞 부분에 공통적으로 두 줄의 문장을 추가함. (미리보기 개선 + "백준 0000"으로 검색했을 때에도 내 블로그를 띄우기 위함). Deploy는 해 놓았지만 아직 구글 서버에 적용은 되지 않은 상황

## 2021.02.04.  
Google Search Console에서 정상적인 통계를 내기 위해서는 아직 조금 더 기다려야 하는 것 같다. ~~도대체 언제까지 ㅋㅋ 하~~
![Google Search Console](https://imgur.com/nd91dDO.png)


## 2021.02.05.
02/05일에 Google에 새로 반영이 된 것을 확인하였다!! ~~믿고 있었다구~~
![Google에 반영된 모습](https://imgur.com/xyYuBLH.png)

그리고 사실, 별 뭐 건드리지도 않았던 것 같은데 최근에 등록된 게시물들은 모두 정상적으로 뜬다.
![정상적으로 뜨는 모습](https://imgur.com/q5Og4MC.png)

개인적으로는 `버그`였나 싶다.. 바꾼 게 사실상 하나도 없기 때문이다.  
물론 개발을 하다 보면 상식 밖의 일들이 밥 먹듯이 일어나지만 ...  
덕분에 굳이 알 필요가 있을까? 싶었던 SEO의 자세한 원리를 뜯어볼 수 있었다. 

하지만 아직 고칠 사항들은 남아있다! 

### **검색 문제**
이름도 뭐라 해야 될지 모르겠다. 나도 까먹을 것 같아서 정리하고 있다.  
글로 정리할까 말까 고민을 굉장히 많이 했는데 정리하는 것은 탁월한 판단이었다.. 

우선, 한글 "백준"의 키워드로도 유입 되도록 하기 위해 모든 Baekjoon 글의 앞 부분에 공통적으로 문장을 추가하였고, 이것이 잘 뜨는 것을 확인하였다.
![백준 키워드로 검색이 잘 되는 모습](https://imgur.com/miGpDzv.png)

여기서 끝났으면 참 좋았을 텐데, "백준"으로는 뜨지 않고 "baekjoon"으로만 뜨는 애들이 있다.
![baekjoon 키워드로 검색한 경우](https://imgur.com/gb1mnLZ.png)

보면, 기존의 모습과 똑같이 깨져 있고 타고 가보면 02/01에 저장된 상태로 구글에 적용되어 있다.  
얘넨 역시나 한글로 치면 죽어도 안 뜬다.
![뜨지 않는 백준 1956](https://imgur.com/G1pbz0j.png)

생각하는 경우의 수는 다음과 같다
- 아직 Google Bot이 적용하지 못함 (더 기다려야 함)
- 계속하여 바뀌는 이전 게시물들의 Sitemap 버그 (인식이 안 됨)

두 경우 다 현재 발생하고 있는 '무작위성'과 잘 어울리기 때문에..  
사실 이와 비슷한 가장 충격적인 사실은 *블로그 제목이 Baekjoon 9184로 뜬다는 점*이다

![잃어버린 블로그 이름](https://imgur.com/O0kvZsf.png)

얘는 01/31일자의 저장된 페이지를 보여준다.  
이 뒤로 블로그 주소 자체는 건든 게 없으니, sitemap도 바뀐게 없어 업데이트가 되고 있지 않는 듯 하다.  
해결책으로는, **Sitemap 초기화를 시켜주는 방법**인데.. 사실 이게 초기화가 되는지도 모르겠다. Sitemap 파일을 내려도 크롤링은 이미 들어갔으니 말이다.

### Google Search Console 통계
드디어! 거의 일주일 만에 Google Search Console에서 확인을 할 수 있게 되었다.  
확인해 보니, 57개가 유효하고 19개가 제외되었다고 한다. ~~도대체 왜?~~
![잃어버린 19개의 글](https://imgur.com/ahTIicQ.png)

우선은 다음과 같이 개별 URL에 대하여 재크롤링 요청을 하였다. [Google 공식 문서](https://developers.google.com/search/docs/advanced/crawling/ask-google-to-recrawl?visit_id=637481166068099878-144029744&rd=1) 에서도 소수의 문서는 재크롤링 요청, 다수의 문서는 sitemap 업데이트를 통해 하라고 했다. 19개 정도면 거뜬히 노가다 할 수 있다.

![재크롤링 요청 보내기](https://imgur.com/6T67NWa.png)

필요한 문서들은 모두 재크롤링 요청을 보내놓았다.  
[02/05 19:00] 사실, 업데이트를 하는 것이 중요한 게 아니라 "어떤 검색 결과"를 타고 왔냐가 중요한 것 같다. 어떻게 이 구글 검색창에 뜨느냐에 따라 옛날에 저장된 페이지가 뜨기도, 최신 버전의 페이지가 뜨기도 한다 (미리보기로) 이 측면에서 생각하면 한방 싹 초기화를 시키는 게 깔끔하긴 한데.. 이게 오늘 밤의 목표가 될 것 같다

### 백준 사이트 이기기
![백준 사이트보다 먼저 검색되기](https://imgur.com/EWBJ9D4.png)
지옥의 9184번 문제와의 사투를 벌이는 과정에서 내가 크롤링 요청을 너무 많이 보냈나보다. 필터 없이 검색해도 백준 본 사이트보다 내 블로그가 먼저 뜬다 ㅋㅋㅋ  
9184번 글을 아예 서버에서 내렸었는데, 이거 보고 다시 올려놨다.